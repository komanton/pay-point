<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="PayPoint manages saler's payment identifiers, like phone numbers, account numebers, IBANs and etc.">
    <title>PayPoint</title>
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css">
    <!--[if lt IE 9]><script src="js/html5.js"></script><![endif]-->
    <!-- <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"> -->
    <!-- <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"> -->
    <!-- <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"> -->
    <link rel="manifest" href="/pay-point/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
</head>
<body>
    <script>
        // Registering Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/pay-point/sw.js');
        }

        function updateMap(position){
            // These are the coordinates returned by the Geolocation API
            let latitude = position.coords.latitude;
            let longitude = position.coords.longitude;
        
            // Recenter our map around the coordinates
            // window.demoMap.setView([latitude, longitude], 13);
        
            // Add a marker at the specified coordinates
            // var marker = L.marker([latitude, longitude]).addTo(window.demoMap);
        
            // Add a popup to the marker
            // marker.bindPopup("Hello, this is your location!");
        
            // For demo purposes only, display the latitude and longitude to the user
            alert("Latitude:"+latitude+", Longitude:"+longitude);
        }
    
        function geolocationInaccessible(err){
            //for demo purposes only, we show why location data can't be accessed
            alert(err.message);
        }
    
    // function requestLocation(){
        if (navigator.geolocation){
            navigator.geolocation.getCurrentPosition(updateMap, geolocationInaccessible);
        }
        else {    
            alert("Your current browser does not support the Geolocation feature.");
        }   
    // }

    localStorage.setItem('PayPoints', JSON.stringify([
    {
        paymentMethods: [
            { method: 'phone', value: '+123456789' }
        ],
        location: { latitude: 51.5074, longitude: -0.1278 },
        description: 'Sample Location 1'
    },
    {
        paymentMethods: [
            { method: 'phone', value: '+987654321' }
        ],
        location: { latitude: 48.8566, longitude: 2.3522 },
        description: 'Sample Location 2'
    }
]));


 
    </script>
    <div id="payment-list"></div>
    <script src="app.js"></script>
</body>
</html>